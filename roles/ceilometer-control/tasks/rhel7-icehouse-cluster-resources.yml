---
- name: create pacemaker resource for ceilometer-central
  pcs_resource: command=create name=ceilometer-central type=systemd:openstack-ceilometer-central
  args:
    operations:
      - action: monitor
        options:
          start-delay: 10s
  run_once: true
  tags: ceilometer

- name: create pacemaker resources for ceilometer control services
  pcs_resource: command=create name=ceilometer-{{ item }} type=systemd:openstack-ceilometer-{{ item }} clone=yes interleave=yes
  args:
    operations:
      - action: monitor
        options:
          start-delay: 10s
  run_once: true
  with_items:
    - collector
    - api
    - alarm-evaluator
    - alarm-notifier
    - notification
  tags: ceilometer

- name: create ceilometer-delay resource
  pcs_resource: command=create name=ceilometer-delay type=Delay clone=yes interleave=yes
  args:
    options:
      startdelay: 10
  run_once: true
  tags: ceilometer
